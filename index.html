<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Y√∂nlendiriliyor...</title>
</head>
<body>
  <p id="status">Y√∂nlendiriliyor...</p>
  <script>
    const hash = window.location.hash;
    const params = new URLSearchParams(hash.slice(1));

    const accessToken = params.get('access_token');
    const error = params.get('error');
    const errorCode = params.get('error_code');
    const errorDesc = params.get('error_description');

    const statusEl = document.getElementById('status');

    if (error) {
      console.log("üö® Hata olu≈ütu:");
      console.log("error:", error);
      console.log("error_code:", errorCode);
      console.log("error_description:", errorDesc);
      statusEl.textContent = `Hata: ${decodeURIComponent(errorDesc || errorCode || error)}`;
    } else if (accessToken) {
      console.log("‚úÖ access_token bulundu:", accessToken);
      const redirectUrl = `yummy://resetPassword?accessToken=${accessToken}`;
      console.log("üì¶ Uygulamaya y√∂nlendiriliyor:", redirectUrl);
      statusEl.textContent = 'Y√∂nlendiriliyorsunuz...';
      window.location.href = redirectUrl;
    } else {
      console.log("‚ùå access_token yok.");
      statusEl.textContent = 'Ge√ßersiz baƒülantƒ± ya da s√ºre dolmu≈ü.';
    }
  </script>
</body>
</html>
